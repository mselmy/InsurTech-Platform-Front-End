<div class="register-container">
  <h1>Register Form</h1>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">
        <i class="fa fa-user"></i> Name:
      </label>
      <input id="name" formControlName="name" class="form-control" required>
      <div *ngIf="registerForm.get('name')?.invalid && registerForm.get('name')?.touched" class="text-danger">
        Name is required.
      </div>
    </div>
    <div class="form-group">
      <label for="userName">
        <i class="fa fa-user-circle"></i> User Name:
      </label>
      <input id="userName" formControlName="userName" class="form-control" required>
      <div *ngIf="registerForm.get('userName')?.invalid && registerForm.get('userName')?.touched" class="text-danger">
        <div *ngIf="registerForm.get('userName')?.errors?.['required']">
          User Name is required.
        </div>
        <div *ngIf="registerForm.get('userName')?.errors?.['usernameTaken']">
          User Name must be unique.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="emailAddress">
        <i class="fa fa-envelope"></i> Email Address:
      </label>
      <input id="emailAddress" formControlName="emailAddress" class="form-control" required type="email">
      <div *ngIf="registerForm.get('emailAddress')?.invalid && registerForm.get('emailAddress')?.touched"
        class="text-danger">
        <div *ngIf="registerForm.get('emailAddress')?.errors?.['required']">
          Valid Email Address is required.
        </div>
        <div *ngIf="registerForm.get('emailAddress')?.errors?.['email']">
          Email Address is invalid.
        </div>
        <div *ngIf="registerForm.get('emailAddress')?.errors?.['emailTaken']">
          Email Address must be unique.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="password">
        <i class="fa fa-lock"></i> Password:
      </label>
      <div class="input-group">
        <input id="password" [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-control"
          required>
        <div class="input-group-append">
          <span class="input-group-text" (click)="togglePasswordVisibility()">
            <i [class.fa-eye]="!showPassword" [class.fa-eye-slash]="showPassword" class="fa"></i>
          </span>
        </div>
      </div>
      <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="text-danger">
        <div *ngIf="registerForm.get('password')?.errors?.['required']">
          Password is required.
        </div>
        <div *ngIf="registerForm.get('password')?.errors?.['minlength']">
          Password must be at least 8 characters.
        </div>
        <div *ngIf="registerForm.get('password')?.errors?.['passwordStrength']">
          Password must contain an uppercase letter, a number, and a special character.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="taxNumber">
        <i class="fa fa-id-card"></i> Tax Number:
      </label>
      <input id="taxNumber" formControlName="taxNumber" class="form-control" required>
      <div *ngIf="registerForm.get('taxNumber')?.invalid && registerForm.get('taxNumber')?.touched" class="text-danger">
        <div *ngIf="registerForm.get('taxNumber')?.errors?.['required']">
          Tax Number is required.
        </div>
        <div *ngIf="registerForm.get('taxNumber')?.errors?.['pattern']">
          Tax Number must be exactly 9 digits.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="location">
        <i class="fa fa-map-marker-alt"></i> Location:
      </label>
      <input id="location" formControlName="location" class="form-control" required>
      <div *ngIf="registerForm.get('location')?.invalid && registerForm.get('location')?.touched" class="text-danger">
        Location is required.
      </div>
    </div>
    <div class="form-group">
      <label for="phoneNumber">
        <i class="fa fa-phone"></i> Phone Number:
      </label>
      <input id="phoneNumber" formControlName="phoneNumber" class="form-control" required>
      <div *ngIf="registerForm.get('phoneNumber')?.invalid && registerForm.get('phoneNumber')?.touched"
        class="text-danger">
        <div *ngIf="registerForm.get('phoneNumber')?.errors?.['required']">
          Phone Number is required.
        </div>
        <div *ngIf="registerForm.get('phoneNumber')?.errors?.['pattern']">
          Phone Number must start with 011, 012, or 010 and be exactly 11 digits.
        </div>
      </div>
    </div>
    <button type="submit" class="btn" [ngClass]="registerForm.valid ? 'btn-success' : 'btn-primary'"
      [disabled]="registerForm.invalid" id="submitButton">
      Register
    </button>
  </form>

  <!-- In-Progress Notification -->
  <div *ngIf="processInProgress" class="alert alert-info mt-3">{{ processInProgress }}</div>
</div>